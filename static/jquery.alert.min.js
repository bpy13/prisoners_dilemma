!function(n){n.fn.alert=function(e,t){n(this).queue((function(){n.alert(e,t)}))},n.fn.confirm=function(e,t){n(this).queue((function(){n.alert(e,t)}))},n.fn.prompt=function(e,t){n(this).queue((function(){n.alert(e,t)}))};var e="IDX"+Math.floor(1e3*Math.random()),t="TT"+Math.floor(1e3*Math.random()),i="TB"+Math.floor(1e3*Math.random()),o="EM"+Math.floor(1e3*Math.random()),c="BTN"+Math.floor(1e3*Math.random()),a="INPUT"+Math.floor(1e3*Math.random()),l="popup_open",f="body",p={title:"Alert",em:"",buttonReverse:!1,callEvent:null,cancelEvent:null,confirmButton:"Confirm",cancelButton:"Cancel",input:"text",value:null},d={text:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="text">')},tel:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="tel">')},number:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="number">')},password:function(){return n('<div class="input-box">').append('<input id="'+a+'" type="password">')}},u=function(e){return n("<ul>").append(n("<li>").append(n('<a href="#" class="confirm">'+e.confirmButton+"</a>")))},r=function(e){return n("<ul "+(e.buttonReverse?"class='button-reverse'":"")+">").append(n("<li>").append(n('<a href="#" class="close">'+e.cancelButton+"</a>"))).append(n("<li>").append(n('<a href="#" class="confirm">'+e.confirmButton+"</a>")))},s=function(e){return n("<ul "+(e.buttonReverse?"class='button-reverse'":"")+">").append(n("<li>").append(n('<a href="#" class="close">'+e.cancelButton+"</a>"))).append(n("<li>").append(n('<a href="#" class="confirm">'+e.confirmButton+"</a>")))},m={creation:function(a){n(f).append(n('<div id="'+e+'" class="popup">').append(n('<div class="popup-wrap">').append(n('<h2 id="'+t+'" class="popup-title">')).append(n('<div class="popup-content">').append(n('<div class="text-box">').append(n('<p id="'+i+'">')).append(n('<strong id="'+o+'">'))).append(n('<div class="popup-btn" id="'+c+'">')))).append('<div class="dimmed"></div>')),a()},confirm:function(n){m.close(),m.callEvent(n)},cancel:function(n){m.close(),m.cancelEvent(n)},close:function(){n(f).removeClass(l),n("#"+e).remove()},show:function(){n(f).addClass(l)},callEvent:function(n){"function"==typeof n.callEvent&&n.callEvent(n.value)},cancelEvent:function(n){"function"==typeof n.cancelEvent&&n.cancelEvent()}};n.alert=function(a,f){if(n("body").hasClass(l))return!1;"function"!=typeof a&&"object"!=typeof a||(a="["+typeof a+"]"),f=n.extend({},p,f),m.creation((function(){n("#"+e).addClass("alert"),n("#"+e).find("#"+c).append(u(f)),f.title?n("#"+e).find("#"+t).html(f.title):n("#"+e).find("#"+t).remove(),n("#"+e).find("#"+i).html(a),n("#"+e).find("#"+o).html(f.em),n("#"+e).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",(function(n){n.preventDefault(),m.confirm(f)})),m.show()}))},n.confirm=function(a,f){if(n("body").hasClass(l))return!1;"function"!=typeof a&&"object"!=typeof a||(a="["+typeof a+"]"),f=n.extend({},p,f),m.creation((function(){n("#"+e).addClass("confirm"),n("#"+e).find("#"+c).append(r(f)),n("#"+e).find("#"+t).html(f.title),n("#"+e).find("#"+i).html(a),n("#"+e).find("#"+o).html(f.em),n("#"+e).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",(function(n){n.preventDefault(),m.confirm(f)})),n("#"+e).find("#"+c).find(".close").unbind("click.close").bind("click.close",(function(n){n.preventDefault(),m.cancel(f)})),m.show()}))},n.prompt=function(f,u){if(n("body").hasClass(l))return!1;"function"!=typeof f&&"object"!=typeof f||(f="["+typeof f+"]"),u=n.extend({},p,u),m.creation((function(){console.log(u),n("#"+e).addClass("prompt"),n("#"+e).find("#"+c).before(d[u.input]()),n("#"+e).find("#"+c).append(s(u)),n("#"+e).find("#"+t).html(u.title),n("#"+e).find("#"+i).html(f),n("#"+e).find("#"+o).html(u.em),n("#"+e).find("#"+c).find(".confirm").unbind("click.confirm").bind("click.confirm",(function(t){t.preventDefault(),u.value=n("#"+e).find("#"+a).val(),m.confirm(u)})),n("#"+e).find("#"+c).find(".close").unbind("click.close").bind("click.close",(function(n){n.preventDefault(),m.cancel(u)})),m.show()}))},n.close=function(){n("body").hasClass(l)&&m.close()}}(jQuery);
